<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Canonical definitions of `home_dir`, `cargo_home`, and `rustup_home`."><title>home - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="home" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../static.files/storage-3a5871a4.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../home/index.html">home</a><span class="version">0.5.11</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>home</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/home/lib.rs.html#1-150">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Canonical definitions of <code>home_dir</code>, <code>cargo_home</code>, and <code>rustup_home</code>.</p>
<p>The definition of <code>home_dir</code> provided by the standard library is
incorrect because it considers the <code>HOME</code> environment variable on
Windows. This causes surprising situations where a Rust program
will behave differently depending on whether it is run under a
Unix emulation environment like Cygwin or MinGW. Neither Cargo nor
rustup use the standard libraries definition - they use the
definition here.</p>
<p>This crate provides two additional functions, <code>cargo_home</code> and
<code>rustup_home</code>, which are the canonical way to determine the
location that Cargo and rustup use to store their data.
The <code>env</code> module contains utilities for mocking the process environment
by Cargo and rustup.</p>
<p>See also this <a href="https://github.com/rust-lang/rust/pull/46799#issuecomment-361156935">discussion</a>.</p>
<blockquote>
<p>This crate is maintained by the Cargo team, primarily for use by Cargo and Rustup
and not intended for external use. This
crate may make major changes to its APIs or be deprecated without warning.</p>
</blockquote>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="env/index.html" title="mod home::env">env</a></dt><dd>Lower-level utilities for mocking the process environment.</dd></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.cargo_home.html" title="fn home::cargo_home">cargo_<wbr>home</a></dt><dd>Returns the storage directory used by Cargo, often knowns as
<code>.cargo</code> or <code>CARGO_HOME</code>.</dd><dt><a class="fn" href="fn.cargo_home_with_cwd.html" title="fn home::cargo_home_with_cwd">cargo_<wbr>home_<wbr>with_<wbr>cwd</a></dt><dd>Returns the storage directory used by Cargo within <code>cwd</code>.
For more details, see <a href="fn.cargo_home.html"><code>cargo_home</code></a>.</dd><dt><a class="fn" href="fn.home_dir.html" title="fn home::home_dir">home_<wbr>dir</a></dt><dd>Returns the path of the current user’s home directory using environment
variables or OS-specific APIs.</dd><dt><a class="fn" href="fn.rustup_home.html" title="fn home::rustup_home">rustup_<wbr>home</a></dt><dd>Returns the storage directory used by rustup, often knowns as
<code>.rustup</code> or <code>RUSTUP_HOME</code>.</dd><dt><a class="fn" href="fn.rustup_home_with_cwd.html" title="fn home::rustup_home_with_cwd">rustup_<wbr>home_<wbr>with_<wbr>cwd</a></dt><dd>Returns the storage directory used by rustup within <code>cwd</code>.
For more details, see <a href="fn.rustup_home.html"><code>rustup_home</code></a>.</dd></dl></section></div></main></body></html>