{
    "annotations": {
      "list": [
        {
          "builtIn": 1,
          "datasource": {
            "type": "datasource",
            "uid": "grafana"
          },
          "enable": true,
          "hide": true,
          "iconColor": "rgba(0, 211, 255, 1)",
          "name": "Annotations & Alerts",
          "type": "dashboard"
        },
        {
          "class": "annotation_restart",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "enable": true,
          "expr": "resets(scylla_gossip_heart_beat{cluster=\"$cluster\"}[$__rate_interval])>0",
          "hide": false,
          "iconColor": "rgba(255, 96, 96, 1)",
          "limit": 100,
          "name": "node_restart",
          "showIn": 0,
          "tagKeys": "instance,dc,cluster",
          "tags": [],
          "titleFormat": "restart",
          "type": "tags"
        },
        {
          "class": "annotation_stall",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "enable": false,
          "expr": "changes(scylla_stall_detector_reported{cluster=\"$cluster\"}[$__rate_interval])>0",
          "hide": false,
          "iconColor": "rgba(255, 96, 96, 1)",
          "limit": 100,
          "name": "stall detector",
          "showIn": 0,
          "tagKeys": "dc,instance,shard",
          "tags": [],
          "titleFormat": "Stall found",
          "type": "tags"
        },
        {
          "class": "annotation_schema_changed",
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "enable": false,
          "expr": "changes(scylla_database_schema_changed{cluster=\"$cluster\"}[$__rate_interval])>0",
          "hide": false,
          "iconColor": "rgba(255, 96, 96, 1)",
          "limit": 100,
          "name": "Schema Changed",
          "showIn": 0,
          "tagKeys": "instance,dc,cluster",
          "tags": [],
          "titleFormat": "schema changed",
          "type": "tags"
        }
      ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 1,
    "links": [
      {
        "asDropdown": true,
        "icon": "external link",
        "includeVars": true,
        "keepTime": true,
        "tags": [],
        "type": "dashboards"
      }
    ],
    "liveNow": false,
    "panels": [
      {
        "class": "collapsible_row_panel",
        "collapsed": false,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 0
        },
        "id": 1,
        "panels": [],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "type": "row"
      },
      {
        "class": "text_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 3,
          "w": 24,
          "x": 0,
          "y": 1
        },
        "id": 2,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<div>\n<img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAEICAYAAAAax7ueAAAACXBIWXMAAAsSAAALEgHS3X78AAAgAElEQVR4nO2dXVBUZ7rv/4IM0LSKBCYqU+IFKTdJyehG2OcChHgxIWZXEtxbLhysYeupWBPNqBdmJtE5ITOSORMvNBNjytTWkAqxauOMJlYlkhvDV51zBuJWsWaIJXsXbQ1qpg2CNN0SsDkX/eFa7/rq9fGuj+b5VVmymsVaq7vXfz0f7/M+74K5uTkQBCFPhtMXQBBuhgRCECqQQAhCBRIIQahAAiEIFUggBKECCYQgVCCBEIQKJBCCUIEEQhAqkEAIQgUSCEGoQAIhCBVIIAShAgmEIFQggRCECiQQglCBBEIQKpBACEIFEghBqEACIQgVSCAEoQIJhCBUIIEQhAokEIJQgQRCECqQQAhCBRIIQahAAiEIFUggBKECCYQgVCCBEIQKJBCCUIEEQhAqkEAIQgUSCEGoQAIhCBVIIAShAgmEIFQggRCECiQQglBhodMXQADV5Y1rAeSnsOuVvsGOcd7XQzxiwdzcnNPXkJZUlzfmA1gLYBXzD/HXl1hwmqsAEoLpEvw/3jfYccWC4897SCAWUF3eWIfYTZ8QRK2T1yMgAGAEMdFcQcwCjTh4PZ6DBKKTuGWoE/z7sYOXY4QJxATTBaCLLI06JJAUiMcIzbBIEBm+HGSV/EiwnYuskmLVv4lORTBzc1Rx2wQJwXyKmGBGrDhoukACUaC6vPFFAIl/uuKFhACyVhYjIy8X2WWlAICskmJk+HItv9aZwCii4Qhmg2N4eHcMM4FRzAbHjAroKoA2AJ+SWEggIuKWYi90iCKzsAA/KClGVkkxsstKuYnAKDOBUXwfGMVMYBQzN0cxPTSs58+vAjiKmFjmZfZs3gskHlM0IyaMEq39MwsLkF1Wmvy3sKiA9yVazvTQsOhfinwEoK1vsKOL35W5j3krkOryxlUAWpCCtchaWYy8DVXIqVjjSUFoEbl0DZGvr2F6aBgP745p7X4VwNG+wY42/lfmPPNOIPGU7F4AL6jtl7WyGP76WuSuX+Mql4k3M4FRTPX0I9z7Z0TDD9R2DSAWqxxNZ/dr3ggkLowWqIxRZBYWIG9DFXw1VWlpKfQSuXQN4Z5+RC5dU9ttArE4JS2FkvYCEbhSP1PaJ7usNGYtKtbYdVmeYjY4hnBvP6Z6+tVcsAkAe9PN9UpbgcSD7xYAe5T28dVUYfHmerIWOpjq6cf9s51qQgkAaE6XYD4tBVJd3tiMmNmXDb5JGOZJQSifIWZRRuy7KutJK4HE3ak2KMQZJAzr0RDKBICWvsGOozZflmWkjUCqyxv3IuZSSaxGdlkplr60lYTBkVBnN+6fvaCU+epGzO0asfeqzON5gcRjjTbIpG0zCwuQv62Bgm+biIYjuP+nToS+7Jb7tSeDeE8LJJ66/RQyVsP/TC0W/0v9vBrDcAvTQ8MY//icUi3YR4gJxRMpYc8KJO5SHWFfz1pZjIKdWzWrYwn+3D/biftnO+V+dRXAi15wuTwnkLhLdRQy4xpkNdzH9NAwxk6clgviJxATSZf9V5U6nhJIXBxdYOZkZPhysHTnTynWcCnRcAT3TpxWGpH/NzfHJZ4RSLwUvQ2MOLJWFuOxfTsoQ+UBQp3dGG8/J/erd/oGO/bafT2p4AmBxMXRBSYY99VUIX9bA7lUHmJ6aBjfHfl3uXTwR32DHc0OXJIqrheIkjj8z9Qif1uDI9dEmGMmMIqxE6flslyuE4mrBaIkjqUvbUXehipHromwhmg4guChY64XiWs7K5I40psMXy6KDu5G1kpJOv5n1eWNbQ5ckiyutCDxmqorIHGkPW63JK6zIPFUrmR0nMSRnmhYkmYHLkmE6wQCmXEOEkd6oyKSD+PtlxzDVS5W3PcUjZDbKY5oOIKZwKPWOFodP4R9rzILC2gsxiQK7tYEgDqnOkC6RiBxc/qh8DVfTRUKdm7lds5oOJLs5pFiRw9VMnw5yC57AjkVazzbEshpZoNj+PuBt9lxkquIicT2AkdXCEQuY5VdVoqiA7u5nG+qpx8PLl3TakZgmvnaGcUsM4FRfHvgMPvyZ32DHba7W44LRK6+KrOwAI+/td/SmyoajiDU2Y1QZ5dWOxvLyfDlIKeinGYz6mCqpx/3PjjNvrzP7tmJbhDIUQgaK2T4clB04BXLytX1CKN0dQnWrX8Ky4uL8MTqVVhW/EMsX1Eku29ocgo3vhnB7VtB3PhmBDeuj+DK13/VvB6a9ps6YydOI9zbL3xpAsBaO8vkHRVIfMLTV8LX8psa4K+3ZnmNqZ5+TLSfVRSG3+9DzcZKrKt8Chs2VsK/KM/0OXsvDqDnYj96Lw4gFAor7rd4cz389bXkeqmgELR39w121Nl1DY4JJO5aXYGgH25uxRo8tm+H6WPPBsdw74PTilmo0tUlaGx6zjJRKNF7cQD/0f65omXJLCxAwc6tye7vhBSFeMQ2V8tJgUhcq2VH3zD9RFWzGmvXP4kdP9+CdZVPmTqHXm7fCuLU8Q5cOC87VxuLN9dj8eZ6W6/JS8jMTLTN1XJEIPGs1WXha4/t22F6wpOMzwoAWLaiCHtebUbNxkpTxzfL5YG/4OT7Z2QtSnZZKR7bt4NcLgW+ff0w62rZktVySiBdEPSuMpvSVannwfafb0Fj0yaurpReOto/x6njZyQxCs2nV2Z6aBjB1mPsy0/znrJre6lJPDAXReFLXzI+GKgkjmUrivDuyTew/edbXCUOAGhseg4f/vEwSleLlyOZuTmKYOu7mAlYsrRaWpFdVgpfjaSignsc4kQtVptww0zKU0kca9c/ibYzb9sea+hh+YoitJ05jGefF2fsouEHJBIFYrNHc4Qv/Zh3QaOtAom/meRjM8OXYzilqySOZ5+vxbFTLa6zGkocOLQLv3hV3KCFRCJPhi8X/vo69uUWrufkeXAZWoQb/vo6w0Hpd0dOyorjwKFdhi/OKRqbnsPrv31Z9Fo0/ABjJ04jGo44dFXuxF9fi8xCkcdRwtOKLOR1YBYrrcf4x+ckYxxOiSM0OYUvPutCz8UB3LkVROj+FEr/YRWWryjSNQC56YU6AMBbvz6efG3m5ii+O3KSW02aF8nw5WLx5nq2DKUFjOtuFbZlsdjMldHcf+TSNXx35KToNSfFsXt7C4avBxT38ft9aNz2XMqZtI72z/GHtz8SvUbjJFJu7/0NW33NJaNli4sVH/dIisOo9Yg1IPtE9Frp6hLXigMAQqEwTr1/Bv/6zC70XhzQPG5j03OSwP3+2U6KRxhk5gi18DiPXTGIqCmY0djj3onTohFyv9+HY6daTF+cETrav9AUh5BQKIzX9h5G68H3NPc9cGiXJAV8l7Ga851YHZsoo1Ub72VgKdwFEq+5EqVpZPLZmkRk5m8cOLTLkWxVaHIKHR9/buhvL5zvxmt7DiM0OaW63+/eeRV+vy+5/fDumFIj6HlJhi8XORXl7MuWd2e0w4KIygFyDa41Pv6xuGXls8/XOlY60qNRqatF71cDeOf3bar7LF9RhO0vbxG9FurswmzQ3KzHdGKR1E23vPTEDoGIVO0zML+cXV3V7/dhzy+bTV+YUVKJJbS4cL5bUySNTc+JXK1o+AFZEQFZJcVso4cSq5s8cBVI3CdMzhTM8OUYKkhkb4rtLztbPtL7lXmBAMCZT77QFNueV5tF2+HefrIiAmSCde8IBMzFyviMmrDWY9mKIjQ2PWf+ygxy45sRS4/XevA91XhkXeVTWLv+SdFroU75svn5iIxH4l2B5K7Xbz3Ym2H7z7co7GkPWsG17uOFwpqu1g7mPYd7/0wj7HEyfLmsV7LESjeLm0Di2SvR2Ide92omMCoqJ/H7fckRZ6e4fSto+TEvnO9WPS5rRaLhB4h8zbcji5eQmZFZZ9WxeVqQOuGGUfdKyLMOiwMA7nAQCACcOt6h+nv2wfCAc8siL5EjffC634KAEYiRedfsuEfjNudiD95cON+t6r5teqFONC4SuXSN3Kw4C4sK5LJZq6w4tm0C0Rt/zARGRcF56eoSxRY8drKOCZit5IvPulR/z477kJv1CF5uFheBxOOPZHo3a2Wx7tIStlp3w8b0b16tJRD2M9DqHTyfyH5SIpC1VhyXlwURXZyROdbsl8/zya0HnrMUh68HNFK+4s+ABPIIT1kQWBB/fM9Ur7pp+iw7LmEllweUuzP6F+WJRtYf3h2jOCROhi+XnUj1Y6V9dR3XioPIILIgP9BpQaLhiCj+4HlDGoFnqvnG9RHV369bL35QUBn8I9j7LN4gxBS8BLJKuKHXxWK/dDcE50I2vVDHTbT/OfAX1d8vLxZ/FiSQR8jcZ6vMHpOXQEQBul5Yt2F58Q/NX5HF/O939nMRidY4yxOrV4m2ycV6hCcEEp89mMRIaTv7VGRvCjfgX5SHY6da8PpvX8YyCy2clkDYIk2yII9YWCi510xnsnhYkHzhhhVdAv2LfNo7OcSmF+rwx873LBeKEk/8wyrRNlmQR8jca/ly++mBh0BEqp0vvWaFQhGOeBuBR73XfIHJZJleR8MTFsRLbHqhDh/+UdKuXxd3Rv9u0dXMP6xemIi7QOYjlzUyUYR9mK3J4tE4zvQoule5fSuIP/y+zfSMQzbOIFInu6yUrTBYBWDE6PG4d1acDzGI2rofRvBKX+H5gG2tR81w+1YQ65y+CBmsshh6YN03I+NMROq4UiBs7RavSUpmuPHNCF7Z3mKq/Y8cbMM4LTLy0t9CO4kT64PoxupGCWYJTU5xEQcALF+hXjVwmXHjMqWDY/MaGZfe1GAhD4GsSh5c3BoyZVgLcvuWu9KeHe1fcBEHoB2gsw8LWm9djNWDhVzTvAt8xgfMhL611jwJu9Ga2GQGrXkvbLUvLSHNFx4CuZL4gWlPrwv2SaA2T8JOQpNTXGMitXkvt28FReemAF2KTG3aiJnjuTYGYZ+MPRelyzs7Ac94qOZp9V7DbAaLrIcUmdq0ETPH84xA2ODUKUKTfGIPQNqUgYVtUyozD5uwGNcKhG3lcudW0JKm0WbRmvFnFK2meKHJKdF4i9E+x4Q+uMYggLnGAmxjYre4WTzQ6vnFJgaMNOKbD3ghBhm36kBsxzytFp12wGPylt/vQ2PTJtV9Otq/EG3LdDUnII1B+gY7Rswcj7tAzLTqX1hUIHEjLnBMsaYCj8lbWss5fPFZlyh7lVlYQAG6AtEpayeQcXexzKR6AUgW++z4+HNHx0SWWTw/vnR1ieZyDqfePyPaphVvlRE2Owdgep0I7kG6WUVnl5WKnpapLBfAk+UrikzPGEzg9/tw4LfqK/Sy1iPDl2NoGYn5AI/px5YLhF2rmlG0Idgn5oXz3Y7WZ1m1NuIvftmsWloSmpzCH5iHgdEVgucDMgH6Fbn99OB6CwJIrQgAtP5aezllXljRJ/j1376s2YCu9eBxUc1XZmEBuVcqyFgQ0wkjXgK5mvjBCgsCAEtf2iraHr4ekPjmdlGzsdJUB5NUxNF7cUAyzyR/W4Phc84HvGRBLMtkJVhYJH16nnr/jGPzv9nFNVPB7/fhd0f3a4rj9q0gWg+KLWRuxRoaGNRAxltxrQXpEm6YzWQlWLy5XlKg99qew46MjdRsrMSzz6feVabm6Up8+MfDmvFLaHIKr+15W+RaZfhysHTnVpW/IgBZb8W1FkSElcsWP7Zvh2ieSSgUjt1QDqR+DxzahS0/VR/gq3m6Eu+efAO/e2d/Sj2GWw8ex/D1gOi1x/b9TwrMU4C9z/oGO0xbEF5TbrsAvJHYsMqCADFXa+nOn+K7IyeTrw1fD2D39hYcO9Vie8ODPb9sRuO25yQDmE+sXoV1lU/qup7Wg+9J4o7Fm+tpUDBFmPvMkrWyeQlEpFyr+8fmVqxBflMDxtvPJV9zUiTLVxSZXp669eB7uHBe/J36aqooa5UiMveYJSVPXFysvsEOke9npYuVwF9fC1+NON2aEInb5rCrEZqcwu7tLRJxZK0sRkEKcUc0HEGw9Rj+1rQX375+GOMfn+PyebsdmRSv6fgD4BuDWJ7qZSnYuVVWJK9sb/FEd8Mb34xg9/YWST+trJXFKDq4O6VjhHv6kxXTMzdHEfqyG3f2/QZjJ07Pq8bWMlXjI1Ycl6dALE/1yiEnklAojFd2vOnYOEkqdLR/jle2t0gC8uyyUhQd3G06KA/39uPO3jfnzfIIMvfXiBXH5SmQLuGGlYE6S8HOrchvkg6inXr/DJq37HeVNbl9K4jd21vwh7c/knRG8dVUoeiAPnH4NlQpBvHR8AMEW9+dFyKRub8scbEWzM3NWXEcCdXljXsBHEls5zc1SCpzrSZy6RrunfgE0fADye+efb4W219udGw5t9DkFDrav4hVI8u0DLLi85kJjGKqpx9TXf8Xc9PfJ1/PXLoEj//+V2mdKr710q+E3/tE32CHJU3UeVoQ7oE6S27FGvyw9VXZbh8XzndjS/0utB58z9aBxdDkFE69fwb/+swunHr/jEQcmYUFeLx1vyUPj8yiAjy8OyYSBwA8vDeB+3/qNH18txINR9iHoiXWA+DbelR0kbwCdZaFRQV4/K39uH+2E6HOLok1uXC+GxfOd6Pm6UpseqHOsspclhvfjKCj/XP0XhxQbDLnf6YWi/+l3pIn+1RPPybaz8paTwAIfdlt2bncBo8arATcBNI32DFeXd44AWAJAMwE/sbrVLIs3lwPX00VJtrPIXLpmuT3vV/FigH9fh9qNlZiXeVTWFf5lGEXLDQ5hcsDf8V/DvwFvV8NqPbOyi4rtWwAcCYwivH2c4pz/zPyfIhOxQQa7unn7uY6gYx3Ytm0b97Nq68gvgxWNPwA0XDE1ifYwqICPLZvB6aHhnH/bKfsTRQKhZNWBQCWrSjCshVF+Md4AzelToc3ro8gNBnGjW9GcOP6SErN5BLl6lbMJ4+GI7j/p06EvpQfME6Mo3wfGMW9D04DiKVC01EgMgF6l1XH5i2QEQjWiZsJjDpSNpFdVoqiA7sxPTSMqZ5+hHuVu6PciXcvtGqtj8T5/fW1llXjKrmPQKyw0V9flxyBzywqwL0PYr9L13ERXmMggD0CSeKUQBIkJl7lb2tA5OtrCPf2m2pLpEbWymLkbahCTsUayxpMT/X04/7ZTsWUeXZZKZa+tFV0vgxfbrIsJx2tByBbpDhi1bF5C6QLgqJFt5RAZPhykbehCnkbqhANRzA9NIzpvw5j5uaoYcFkrSxGVklxUoRWdl3XEkZmYQEKdm5VfPj462stFarb4FGkmMBeC2JTJksPGb5cyWSk2eAYHt4dS/6v9HdZJcXJ/60mGo4g1NmNqZ5+lWvIwZKmzSnFNOkqDp7uFcBZIH2DHSPV5Y3JbbszWUZZWFSAhUUFyC6z/9yzwTHcP9uJB5cGFVO2iTjDX1+blmlbPfAqMUlgxxJs3XAwk+UVEskDNRePhCGFZwYLsEcgI3BBJsuNJLJqatYCADL8eVj84k/g21BFwmDwtIsV5wqAnyU25rtApoeGEfn6GiKXrqVcwOn/SU3aZqDMwjODBdgnkCRuyWTZRTQcQeTra5geGta0FECs88lT5U/gz//nqup+ROyz5ZnBAhwQiBszWVYyGxzD9NAwZgKxlHGq77fm6UrUbKzEho2VuPHNCAkkBaxe6kAO7gJxuiaLJzOBUczeHXskhsDfNC2EkNLVJfGCySrHyvC9DM8ixQR2WBCAqcmaDY5ZmpdPFOwBEI1LJGIdI2MVwjGQxM/RqQhmbo4m/9fLgowFqK5dn7QUSs0lnF4DxSvIuOveFwgQS81ZJZDZ4BiCre+Kntxy1btOsSA7G3PT0wCAuegcfvHLZk1rQYt1pgaPRnEsdq1RaNmybCwLiwpcsxxZ1spi+GqqkN/UgKIDu/Gj9qPIq/sfon1Smf7LLljKY6Q+HWDuowkrGsWx2GVBRoQbVmey8rc1YGFRQdIV0hsL6CHDl4Oskh8l3baskmIsLCxQvImznywVlaT3XhxQ7c3LrgeStbKYxj5ksMO9AmwSSN9gR5e45MTaTFaGL1e2wVo0HEG4p1/UYG5L0yYs0mgsd3v078n5IVklxchvakjWXeklt2INMnw5ScH2fjWA27eCsm5WYnquEBr/kIf3CHoCuywIAAQAlAD2pXozfLnw19disrM7+YGG7k9pdma/PPCXpEAyfLmmY4CcinLRHJRTxztw4JB0Zal3ft9Gq0mlCO8R9AR2rpMuHg+xsRWN0LpcON+tGQcI10K3wr1ZxFiBC+e7Rcs6J1oBsd0VlzRtJvdKATvGQAAHBfK9jQLJY3pHvbbnsGo3+MsDj4JkKwLkrJJiyWzCt359HM1b9mP39hZsqd8lmcHoq6mipZ5VkCkx6eJxHscEwrORnBzCxnKhUBi7t7fIiiQ0OSXqsG7VNNklTQ2iZRuAWJtUuam9WSuLaTUpDRg3nVvZgWMC4TXVVYmskmLRMm7D1wNo3vKqxN1qPXg8+XOmSnZKLwuLClB04BWJSFj8z9Ti8bf2k2ulgl3xB2BjkO6GyVN5G6owPTScDJjv3ArilR1vonR1CfyL8pINGxJYvfRAVkkxlh19A/f/1Cmq5s3w5SCnohyLN9en7cw/K7ErxQvYm8UCXDB5qmDnVvygpFiytggLrxggw5eL/G0N5EKZQCZA7+J1LjtdLMDBTJYQf30tlh35X5Ku8EDsab54c31Ka3MQzmBHiUkCuy2IJA5xqs5oYVGsE0j+tgaRUKnuyf0w7jmXEpMEdgtkRLjhhslTVgwEEvYxGxzj1qhaDltdLDZXPR/WrSCsRca96uJ5PrtjEMCGpdmI9MWuEfQETghkRLhh93gI4W3smEUoxAmBzOsmDoQ52BIldkVlq3FCIF3CDYpDiFSxo4sJi+MWhOIQIlXsjj8ABwQSz1lPJLYpBiFSxe74A3DGggAuGVEnvIXMFIm0FUiXcGPW5tJ3wpuwD1Jec0CEkAUhPINdc0CEuEIgFIcQWtg5B0SIIwKJd+BOBurp1I6U4IMTATrgnAUBBG8w0Y6UIJSQuT+67DivKwQC0HgIoY6dc0CEuEcgFKgTKjAxSIDnHBAhJBDC9TgVfwAOCoQtMrOzTxbhLZwYIEzgpAUBBMVmD++OIRqOOHkthEuxs0kDi9MCITeL0EQmQB+x69yuEggNGBJyyKwDMmLXuZ0WyIhwgywIweJkgA44LBC22IwCdYJFppC1y87zO21BAEHRGQXqBMu8tiBxKFAnFJGJS+e3QChQJ4TIdFEcsfP8rhMIWRAigd1dFOVwXCAUqBNK2N1FUQ7HBRKHAnVCgtMBOuAegZCbRUhwOkAHXCoQCtQJwPkAHXCpQNLJgkTDEXz7+mGMnTjN7RwzgVHceulXmOrp197ZI7ghQAdcIhCjgXo0HLEkXkncYJFL10wfiyXU2Y2Zm6MI9/Zzs4zj7ecQDT/AvQ+sF2E0HMHYidMIth6z5HipTq12Q4AOuEQgcXQH6sFDx/Dt64dNW5zkDXbiE1PH0cKLyYdwT39S3GYfIOMfn8Odfb9J6ThuCNABdwlEl5s1PTSMmZujeHh3zDLXgjHplsPLdeTZFUYoajMLrkbDEYS+jE3/CXVq95x2Q4AOuFggWu5IZuGj5ZKtbPjgxQQBT2Fb9XkIHw7C7055f+cDdMDFAtF62grXEzf7JWatLE7+7EU3iCfRqUefRyo3thLC70hrLXi3BOiAiwRiJFAXLr5pxn3JyHvkOqRTBs0KhNZZ68ZWPY7gc80qKVbZ0z0BOuAigcTRFagLfWKrSlR4NrDjIT6eFs/KYwu/n4UalsgtATrgPoHocrOETyIzbpbwOA85dprncTPztHh64wYl2JWhtCyIWwJ0wOUC0RWom3GxfEIXi/oEJxBaUzPulfB79FKADrhcIHoCdasyWbxTvV7CKmsq/B61hDYTGHVNgA64TCB6A3VhkA4Yd7NYk+/FVC8PrHKxhJ+nMGMoh8x33mX4xBbgKoHE0dVMLsOXk/zZqJtlZgBMDzyExzMGEX725jJYj1ymVCwIA1kQBp2B+o+SP1uVyfKSBeGZxbLic2DHNAykeEkgDLoCdaHJNvM0FbprwsExIobWja0Ee8NruWpONomTw/UC0brpRYN8FgXqtFaJ9MFk1A1lvz81F8vJHrxKuE4geru+WxWoC28AsiDWuW7C74P9rlic7OKuhOsEEiflQJ012UbdLKELwdOCWB3f8Br5Zz9HrZtb+TiPAnQt94osSOqkHIewJtttJSdGffdU4TXyb4UVZQN0zQyWywJ0wCMC0bIKVhQtsk83q248u1LIgPYYgx6EN6vRMRD2M9RZYmLbMmtqeEIgdswNYZ9uXlx1V5iwMIvQghgdA2G/N7UiRbeNfyRwpUDigXrK66izX6AVfj7PokUvYEUcxt70ahbETQWKQlwpkDgpr6POfvBGnv5sEMrLgnjBMrFJEaOumzAe9FqJSQI3C6RLuKH2RGNNtxXlF7wsiNXHtaN8xYjrxpa4e63EJIGbBZJyoM5aEKPugTCW8cKTnhesBTGSaNDjXgGS7+yqGwJ0wEMC0VNyYvSpKnzKzecYRO/NLQf7HXgx/gBcLJB4DU4yUNe66VkTboWbNV+tiBVjIJISEw9msAAXCySOYTfLyIAhG6jPVyvCuqhGLAj7cCELwocu4YbaTS+JQ1xqQbxglVgLYigGuWk8g8VOnHMSTwlE7aaXZLIMBOq8RtN5HZNbp0bBZyeckJYqkgFClQwWm+2CoLONG3C7QFIO1KUWRH/zBa+NpvOYLCUZAxFMSEsVPUG+GwsUhbhaIPFUXyCxrWUVxB0S1QcXU2E+xiBWWCXWZfJq/AG4XCBxDFf26nWz7BpNdzOS4NrAKHq6ZLAAbwikS7iha8DQ5NPQCgvCBrhun4zFvmcjo+h6smDTQzdE2+yEOafxgkBSnmFoRfseqyZgKV0Tz070Ric1CWEtiN4MFvt5qZXKyzSp1l4XwWZcLxA25afqYklubvOBuhUTsDtO5TIAAASDSURBVNhMkFUrWfGow9IzAp7K3/9AX/zRpetkNuB6gcQRNbVWujGySopFN2M0/ED3zcg+hcO95hfnyS57QrQd+dq8QGaD0s/BrAWZHhrWPcmJhV3MSO2aHki/G1e5V4B3BNIm3FBboSinoly0ncpqRkJyK9aItqeHhk0/qTMW5Ym2w739phMAEuEuWGBaIPfPdoq2cyvW6HKxEqt+CVG6ppnAKPvwmgBZEMN8KtyIXLqmaBnyNlSJtqeHhnWJJKukWOI3j504bXjMIRqOIPLny5LXJ9rPGToeELu52JsZc3MY/9j4Mad6pIuM5jAPCzUSi30KyS4rVbRAMqv+fuqWCl4hnhBIvHDxI+Fr9058IhtAZ5eVSp5a4+3ndK1jmL+tQbT98O4YvjtyUrdIouEIgoeOIRqZlvwucumaoaWhZwKjCLa+K/u70JfdhtZrnAmMYqL9rOi1zMICycNGicT7ZN2zxZvrZfcfO3FaLlnRkuLl2oonBBJnLwTVvdHwAwRb35W1JPlNDZLX7n1wWvrUVSC3Yo3EikwPDSN46FjqyxgHRhE8dEw1axXu7dclvOmhYQRb31XtQH/vg9O6LEmosxvfHjgsOebiF3+S0t/PBsdk32duxRrJgyoajuC7Iyfl4ro3ne6gqMSCubk5p68hZarLG9cCkPgruRVrsKSpQZSBCnV2Y1zGjcksLMDizfWKT8epnn7cP9upOAaS4cuBr+af4K+vla0xmgmMYrKzWym4vw1gudwx/fV18NVUyR4z4SYquJXXAaxmX0y8z9z18nFE5NI1hDq7VeMrX00VFm+ul72m2eAYQp3dyZVr2XM//tZ+0XlVPtfuvsGOOsWLcBhPCQQAqssbmwF8KPe7rJXFyC4rTQ5uhf/fZcze+lbxWGa7MmYWFohuntngmNrg4gSAOgBroXD9QOw9iNdM/JuaxbgaP+ZRAD9T2snO97kgMxO+un9C5pLFAGIPjOmhG0rv4SqAOjfGHgk8JxAAqC5vrEMscF9i0ynvAig08fdXAbyYcCMsuv7PADQnbq7q8sa9AI6YOB5g/n3q4SMAe90sDsBbMUiS+ODhKjCBOwcCAJ4G8ASAdwwe403EnpIjiRfi178WsZtcLxMA/q1vsONF4c3VN9hxFMA6GCsXt+J96jlXQ99gR7PbxQF41IIIqS5vXIVYAP8igBKF3QKI5dj/G8A/AnhB47DdANr6BjvaFM7VDPWnfwAxC3FUK/iMW5NmxK5f7ZhXERsPatO6sarLG1+MH1PrfV6NX2Mb8/eroP2ZArH3eQHAfwH4ZwC1Kvt+hlgqt01lH9fheYEIqS5vzEfsySxkhL1JBfutBZAv+FUXgCupPNniCYO1iFmyBFfi5zM0IhwXyyqZY14xmuWJH1P4PscFx0z1fa6C+HNVfJ/x8wkZd1sBoh7SSiAEYTWejEEIwi5IIAShAgmEIFQggRCECiQQglCBBEIQKpBACEIFEghBqEACIQgVSCAEoQIJhCBUIIEQhAokEIJQgQRCECqQQAhCBRIIQahAAiEIFf4/eQejurwCSrYAAAAASUVORK5CYII=\" style=\"margin-top:-20px\" height=\"55\">\n<span style=\"font-size:40px\">  [[cluster]]</span><span style=\"padding-top: 25px;float:right\"></span><hr style=\"border-top: 3px solid #5780c1;\"></div>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": false,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 4
        },
        "id": 3,
        "panels": [],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "CQL By User",
        "type": "row"
      },
      {
        "class": "text_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 2,
          "w": 24,
          "x": 0,
          "y": 5
        },
        "id": 4,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<h1 style=\"color:#5780C1; border-bottom: 3px solid #5780C1;\">CQL By User - Coordinator</h1>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL INSERT requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 7
        },
        "id": 5,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_inserts{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]) - sum(rate(scylla_cql_inserts_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_inserts{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]) - sum(rate(scylla_cql_inserts_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Insert",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL SELECT commands generated by the user",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 7
        },
        "id": 6,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]) - sum(rate(scylla_cql_reads_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]) - sum(rate(scylla_cql_reads_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Reads",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL DELETE requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 12,
          "y": 7
        },
        "id": 7,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_deletes{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])-sum(rate(scylla_cql_deletes_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_deletes{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])-sum(rate(scylla_cql_deletes_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Deletes",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL UPDATE requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 7
        },
        "id": 8,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_updates{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])-sum(rate(scylla_cql_updates_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_updates{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])-sum(rate(scylla_cql_updates_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Updates",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "amount of CQL connections currently established",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 13
        },
        "id": 9,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(scylla_transport_current_connections{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(scylla_transport_current_connections{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "Client CQL connections by [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Rate of CQL connections created",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 13
        },
        "id": 10,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_transport_cql_connections{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_transport_cql_connections{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "Client CQL new connections by [[by]]",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the number of SELECT statements with BYPASS CACHE option",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 12,
          "y": 13
        },
        "id": 11,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_select_bypass_caches{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_select_bypass_caches{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "BYPASS CACHE",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "CQL errors by type, only active errors are shown",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 13
        },
        "id": 12,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_transport_cql_errors_total{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]],type) >0",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "CQL Errors [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of Logged CQL batches command, each batched command is counted once.\n\nIs used to make sure that multiple mutations across multiple partitions happen atomically, that is, all the included mutations will eventually succeed. However, there is a performance penalty imposed by atomicity guarantee.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 19
        },
        "id": 13,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_batches_pure_logged{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_batches_pure_logged{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "CQL Logged Batches by [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL batches command, each batched command is counted once.\n\nIs generally used to group mutations for a single partition and do not suffer from the performance penalty imposed by logged batches, but there is no atomicity guarantee for multi-partition updates.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 19
        },
        "id": 14,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_batches_pure_unlogged{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_batches_pure_unlogged{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "CQL Unlogged Batches by [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL command batched. Each batch would add the number of commands inside the batch",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 12,
          "y": 19
        },
        "id": 15,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_statements_in_batches{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_statements_in_batches{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "CQL Command In Batches by [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL row reads",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 19
        },
        "id": 16,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_rows_read{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_rows_read{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "CQL Row Reads [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of reads using secondary indexes",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 25
        },
        "id": 17,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_secondary_index_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_secondary_index_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "Secondary indexes Reads [[by]]",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Requests by Consistency Level",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 25
        },
        "id": 18,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])>0) by ([[by]], consistency_level)) or on ([[by]],consistency_level) bottomk([[bottomk]], sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])>0) by ([[by]], consistency_level))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "Requests by Consistency Level [[by]]",
        "type": "timeseries"
      },
      {
        "class": "text_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 3,
          "w": 24,
          "x": 0,
          "y": 31
        },
        "id": 19,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<span style=\"color:#5780C1;font-size: 2rem;\">CQL System tables</span></br><span style=\"\">The following information is based on Scylla Plugin configuration, check the </span><a target=\"_blank\" herf=\"https://monitoring.docs.scylladb.com/stable/install/monitor-without-docker.html#using-scylla-plugin-with-grafana\" onclick=\"window.open('https://monitoring.docs.scylladb.com/stable/install/monitor-without-docker.html#using-scylla-plugin-with-grafana', '_blank')\">documentation</a><span> for more details on how to enable it.</span>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 34
        },
        "id": 20,
        "panels": [
          {
            "class": "single_value_table",
            "columns": [
              {
                "text": "Avg",
                "value": "avg"
              }
            ],
            "datasource": {
              "uid": "scylla-datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "filterable": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": []
            },
            "fontSize": "100%",
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 35
            },
            "id": 21,
            "links": [],
            "options": {
              "showHeader": true
            },
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 0,
              "desc": true
            },
            "span": 12,
            "targets": [
              {
                "allHosts": true,
                "datasource": {
                  "uid": "scylla-datasource"
                },
                "queryHost": "$node",
                "queryText": "select address, port, shard_id, connection_stage, client_type, ssl_enabled, username, driver_name, driver_version, protocol_version from system.clients",
                "refId": "A"
              }
            ],
            "title": "Connection Table",
            "transform": "table",
            "type": "table"
          }
        ],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "Connection",
        "type": "row"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 35
        },
        "id": 22,
        "panels": [
          {
            "class": "single_value_table",
            "columns": [
              {
                "text": "Avg",
                "value": "avg"
              }
            ],
            "datasource": {
              "uid": "scylla-datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "cellOptions": {
                    "type": "auto"
                  },
                  "filterable": false,
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "row_size"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "bytes"
                    }
                  ]
                }
              ]
            },
            "fontSize": "100%",
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 36
            },
            "id": 23,
            "links": [],
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.1.1",
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 0,
              "desc": true
            },
            "span": 12,
            "targets": [
              {
                "allHosts": true,
                "datasource": {
                  "uid": "scylla-datasource"
                },
                "queryHost": "$node",
                "queryText": "select keyspace_name, table_name,partition_key, clustering_key, row_size,compaction_time from system.large_rows",
                "refId": "A"
              }
            ],
            "title": "Large Rows",
            "transform": "table",
            "type": "table"
          }
        ],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "Large Rows",
        "type": "row"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": true,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 36
        },
        "id": 24,
        "panels": [
          {
            "class": "single_value_table",
            "columns": [
              {
                "text": "Avg",
                "value": "avg"
              }
            ],
            "datasource": {
              "uid": "scylla-datasource"
            },
            "fieldConfig": {
              "defaults": {
                "custom": {
                  "filterable": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "cell_size"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "bytes"
                    }
                  ]
                }
              ]
            },
            "fontSize": "100%",
            "gridPos": {
              "h": 6,
              "w": 24,
              "x": 0,
              "y": 49
            },
            "id": 25,
            "links": [],
            "options": {
              "showHeader": true
            },
            "scroll": true,
            "showHeader": true,
            "sort": {
              "col": 0,
              "desc": true
            },
            "span": 12,
            "targets": [
              {
                "allHosts": true,
                "datasource": {
                  "uid": "scylla-datasource"
                },
                "queryHost": "$node",
                "queryText": "select keyspace_name, table_name,partition_key, clustering_key, column_name,cell_size, collection_elements, compaction_time from system.large_cells",
                "refId": "A"
              }
            ],
            "title": "Large Cells",
            "transform": "table",
            "type": "table"
          }
        ],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "Large Cells",
        "type": "row"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": false,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 37
        },
        "id": 26,
        "panels": [],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "Partitions",
        "type": "row"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "partition_size"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 38
        },
        "id": 27,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "10.1.1",
        "targets": [
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "editorMode": "code",
            "expr": "sum(rate(scylla_database_large_partition_exceeding_threshold[1m])) by (pod, service, shard)",
            "legendFormat": "__auto",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "A"
          }
        ],
        "title": "Large Partitions",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "partition_size"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 38
        },
        "id": 67,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "10.1.1",
        "targets": [
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "sum(rate(scylla_sstables_partition_reads[1m])) by (pod, service, shard)",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "SSTable partition reads",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "partition_size"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 12,
          "y": 38
        },
        "id": 68,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "10.1.1",
        "targets": [
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "builder",
            "expr": "sum by(pod, service, shard) (rate(scylla_sstables_partition_writes[1m]))",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "SSTable partition writes",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "partition_size"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 38
        },
        "id": 70,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "10.1.1",
        "targets": [
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "sum by(pod, service, shard) (rate(scylla_cache_partition_hits[1m]))",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "Hits - Pod: {{pod}} - Service: {{service}} - Shard: {{shard}}",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "A",
            "useBackend": false
          },
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "sum by(pod, service, shard) (rate(scylla_cache_partition_misses[1m]))",
            "fullMetaSearch": false,
            "hide": false,
            "includeNullMetadata": true,
            "legendFormat": "Misses - Pod: {{pod}} - Service: {{service}} - Shard: {{shard}}",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "B",
            "useBackend": false
          },
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "sum by(pod, service) (rate(scylla_cache_partition_hits[1m]))",
            "fullMetaSearch": false,
            "hide": false,
            "includeNullMetadata": true,
            "legendFormat": "Hits - Pod: {{pod}} - Service: {{service}}",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "C",
            "useBackend": false
          },
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "code",
            "expr": "sum by(pod, service) (rate(scylla_cache_partition_misses[1m]))",
            "fullMetaSearch": false,
            "hide": false,
            "includeNullMetadata": true,
            "legendFormat": "Misses - Pod: {{pod}} - Service: {{service}}",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "D",
            "useBackend": false
          }
        ],
        "title": "Cache partition hits/misses",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "partition_size"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 44
        },
        "id": 69,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "10.1.1",
        "targets": [
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "builder",
            "expr": "sum by(pod, service, shard) (rate(scylla_column_family_memtable_partition_hits[1m]))",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Memtable partition hits",
        "type": "timeseries"
      },
      {
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "auto",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            }
          },
          "overrides": [
            {
              "matcher": {
                "id": "byName",
                "options": "partition_size"
              },
              "properties": [
                {
                  "id": "unit",
                  "value": "bytes"
                }
              ]
            }
          ]
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 44
        },
        "id": 71,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": true
          },
          "tooltip": {
            "mode": "single",
            "sort": "none"
          }
        },
        "pluginVersion": "10.1.1",
        "targets": [
          {
            "allHosts": true,
            "datasource": {
              "uid": "scylla-datasource"
            },
            "disableTextWrap": false,
            "editorMode": "builder",
            "expr": "sum by(pod, service, shard) (rate(scylla_column_family_memtable_partition_writes[1m]))",
            "fullMetaSearch": false,
            "includeNullMetadata": true,
            "legendFormat": "__auto",
            "queryHost": "$node",
            "queryText": "select keyspace_name, table_name,partition_key, partition_size, compaction_time, rows from system.large_partitions",
            "range": true,
            "refId": "A",
            "useBackend": false
          }
        ],
        "title": "Memtable partition writes",
        "type": "timeseries"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": false,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 50
        },
        "id": 28,
        "panels": [],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "CQL Internal",
        "type": "row"
      },
      {
        "class": "text_panel",
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 2,
          "w": 24,
          "x": 0,
          "y": 51
        },
        "id": 29,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<h1 style=\"color:#5780C1; border-bottom: 3px solid #5780C1;\">CQL Internal - Coordinator</h1>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "transparent": true,
        "type": "text"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL INSERT commands generated by internal operations",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 53
        },
        "id": 30,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_inserts_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_inserts_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Internal Insert",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL SELECT commands generated by internal operations",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 53
        },
        "id": 31,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_reads_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_reads_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Internal Reads",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL DELETE requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 12,
          "y": 53
        },
        "id": 32,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_deletes_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_deletes_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Deletes",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL UPDATE requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 53
        },
        "id": 33,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_updates_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_updates_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Updates",
        "type": "timeseries"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": false,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 59
        },
        "id": 34,
        "panels": [],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "LWT",
        "type": "row"
      },
      {
        "class": "text_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 2,
          "w": 24,
          "x": 0,
          "y": 60
        },
        "id": 35,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<h1 style=\"color:#5780C1; border-bottom: 3px solid #5780C1;\">LWT</h1>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL INSERT requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 0,
          "y": 62
        },
        "id": 36,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_inserts{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_inserts{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Insert",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL DELETE requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 6,
          "y": 62
        },
        "id": 37,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_deletes{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_deletes{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Deletes",
        "type": "timeseries"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Counts the total number of CQL UPDATE requests with/without conditions.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 12,
          "y": 62
        },
        "id": 38,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_updates{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_updates{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 1
          }
        ],
        "title": "CQL Updates",
        "type": "timeseries"
      },
      {
        "class": "graph_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Number of CQL batches command, each batched command is counted once",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "short"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 62
        },
        "id": 39,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "pointradius": 1,
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "topk([[topk]], sum(rate(scylla_cql_batches{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]])) or on ([[by]]) bottomk([[bottomk]], sum(rate(scylla_cql_batches{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", conditional=\"yes\"}[$__rate_interval])) by ([[by]]))",
            "intervalFactor": 1,
            "legendFormat": "",
            "metric": "",
            "refId": "A",
            "step": 30
          }
        ],
        "title": "CQL Batches by [[by]]",
        "type": "timeseries"
      },
      {
        "class": "collapsible_row_panel",
        "collapsed": false,
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "gridPos": {
          "h": 1,
          "w": 24,
          "x": 0,
          "y": 68
        },
        "id": 40,
        "panels": [],
        "repeat": "",
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "title": "Optimization",
        "type": "row"
      },
      {
        "class": "text_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 2,
          "w": 24,
          "x": 0,
          "y": 69
        },
        "id": 41,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<h1 style=\"color:#5780C1; border-bottom: 3px solid #5780C1;\">Optimization</h1>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "All of the requests should be prepared\n\nPrepared statements remove the overhead of parsing the query every time and allow optimal routing of requests from client to server",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 0,
          "y": 71
        },
        "id": 42,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "floor(100 *sum(cql:non_system_prepared1m)/ (sum(cql:all_shardrate1m{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}) - sum(cql:all_system_shardrate1m{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}))) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "CQL Non-Prepared Statements",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "All of the requests should be prepared\n",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 2,
          "y": 71
        },
        "id": 43,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(cql:non_system_prepared1m{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "CQL Non-Prepared Statements",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "All requests should be paged\n\nNon Paged request sources:\n- Client modifying the fetch size\n\nNon Paged requests require reading all the results and returning them in a single request.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 8,
          "y": 71
        },
        "id": 44,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "100 * ((sum(rate(scylla_cql_unpaged_select_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))-sum(rate(scylla_cql_unpaged_select_queries_per_ks{ks=\"system\",instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])))/sum(rate(scylla_cql_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "Non-Paged CQL Reads",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Non-Paged requests require reading all the results and returning them in a single request",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 10,
          "y": 71
        },
        "id": 45,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_unpaged_select_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])-sum(rate(scylla_cql_unpaged_select_queries_per_ks{ks=\"system\",instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "Non-Paged CQL Reads",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "All of the requests should be Token Aware\n\nNon Token Aware requests sources:\n* Non-Prepared Stamements\n* Client not using a Token Aware load balancing policy\n\nTokenAware requests are sent to a Scylla node that is also a replica. Token Un-Aware requests require extra hop and additional processing.\n\nNote that the metric shows incorrect values when batches are used.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 16,
          "y": 71
        },
        "id": 46,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "clamp_max(100*((sum(rate(scylla_storage_proxy_coordinator_reads_coordinator_outside_replica_set{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) or on() vector(0)) + (sum(rate(scylla_storage_proxy_coordinator_writes_coordinator_outside_replica_set{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) or on() vector(0)))/((sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) + 1) or vector(1)),100) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "Non-Token Aware",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Requests that are not token aware indicates that requests are not routed to the right node, which require extra hop and additional processing.\n\nNote that the metric shows incorrect values when batches are used.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 71
        },
        "id": 47,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "(sum(rate(scylla_storage_proxy_coordinator_reads_coordinator_outside_replica_set{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]) or on() sum(scylla_reactor_utilization*0) by([[by]])) + (sum(rate(scylla_storage_proxy_coordinator_writes_coordinator_outside_replica_set{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]]) or on() sum(scylla_reactor_utilization*0) by([[by]]))",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "Non-Token Aware Queries",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Reversed CQL Reads entail additional processing on server side\n\nSources: CQL Read requests with ORDER BY that is different from the \"CLUSTERING ORDER BY\" of the table\nAlternatives:\n\n* Denormalize your data (use a Materialized View)",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 0,
          "y": 77
        },
        "id": 48,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "100 * sum(rate(scylla_cql_reverse_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) / sum(rate(scylla_cql_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "Reversed CQL Reads",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Reversed CQL Reads entail additional processing on server side and should be avoided",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 2,
          "y": 77
        },
        "id": 49,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_reverse_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "Reversed CQL Reads",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "ALLOW FILTERING CQL Reads, the percentage of read requests with 'ALLOW FILTERING'\n\nALLOW FILTERING CQL Reads entail additional processing on server side\n\nSources: CQL Read requests with \"ALLOW FILTERING\"\n\nALLOW FILTERING should be used when large parts of the filtered data is returned - check \n\"ALLOW FILTERING CQL Read Filtered Rows to check what percentage of the data is used\"\n\nAlternatives:\n- Use a Secondary Index\n- Denormalize your data (use a Materialized View)",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 8,
          "y": 77
        },
        "id": 50,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "100 * sum(rate(scylla_cql_filtered_read_requests{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) / sum(rate(scylla_cql_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "ALLOW FILTERING CQL Reads",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "rps_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Read requests with ALLOW FILTERING\n\nALLOW FILTERING CQL Reads entail additional processing on server side and should be avoided",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:reads/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 10,
          "y": 77
        },
        "id": 51,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_filtered_read_requests{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "ALLOW FILTERING CQL Reads",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "ALLOW FILTERING Filtered rows, the percentage of rows that were read and then filtered.\n\nALLOW FILTERING CQL Reads entail additional processing on server side. \nReading a row and then filter it is a waste of resources.\n\nSources: CQL Read requests with \"ALLOW FILTERING\"\n\nALLOW FILTERING should be used when large parts of the filtered data is returned\n\nAlternatives:\n- Use a Secondary Index\n- Denormalize your data (use a Materialized View)",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 16,
          "y": 77
        },
        "id": 52,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "100 * sum(rate(scylla_cql_filtered_rows_dropped_total{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))  /sum(rate(scylla_cql_filtered_rows_read_total{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "ALLOW FILTERING Filtered Rows",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "rps_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "CQL Queries with ALLOW FILTERING should be avoided.\nDropped rows are rows that were read but were filtered by the server.\nWhen dropped rows is relatively high you should consider the alternatives",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:reads/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 77
        },
        "id": 53,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_filtered_rows_read_total{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "legendFormat": "rows read $node $shard",
            "refId": "A"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_filtered_rows_matched_total{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "interval": "",
            "intervalFactor": 2,
            "legendFormat": "rows matched $node $shard",
            "refId": "B"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_filtered_rows_dropped_total{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "intervalFactor": 2,
            "legendFormat": "rows dropped $node $shard",
            "refId": "C"
          }
        ],
        "title": "ALLOW FILTERING CQL Read Filtering",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Range scans should typically by pass the cache.\n\n Add BYPASS CACHE to your select queries.",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 0,
          "y": 83
        },
        "id": 54,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "floor(100 *sum(rate(scylla_cql_select_partition_range_scan_no_bypass_cache{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))/(sum(rate(scylla_cql_reads{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) - sum(rate(scylla_cql_reads_per_ks{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", who=\"internal\"}[$__rate_interval])) )) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "Range Scans",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Range scans should typically by pass the cache.\n\n Add BYPASS CACHE to your select queries.",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 2,
          "y": 83
        },
        "id": 55,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_cql_select_partition_range_scan_no_bypass_cache{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "Range Scans Without BYPASS CACHE ",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Using consistency level ANY in a query may hurt persistency, if the node receiving the request will fail the data may be lost",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 8,
          "y": 83
        },
        "id": 56,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "floor(100 *sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", consistency_level=\"ANY\"}[$__rate_interval]))/sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "CQL ANY Queries",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Using consistency level ANY in a query may hurt persistency, if the node receiving the request will fail the data may be lost",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 10,
          "y": 83
        },
        "id": 57,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\",  consistency_level=\"ANY\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "CQL ANY CL Queries",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Using consistency level ALL in a query may hurt availability, if a node is unavailable operations will fail",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 16,
          "y": 83
        },
        "id": 58,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "floor(100 *sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", consistency_level=\"ALL\"}[$__rate_interval]))/sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "CQL ALL CL Queries",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Using consistency level ALL in a query may hurt availability, if a node is unavailable operations will fail",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 18,
          "y": 83
        },
        "id": 59,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\",  consistency_level=\"ALL\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "CQL ALL CL Queries",
        "type": "timeseries"
      },
      {
        "class": "text_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 3,
          "w": 24,
          "x": 0,
          "y": 89
        },
        "id": 60,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<h1 style=\"color:#5780C1; border-bottom: 3px solid #5780C1;\">Cross DC Information</h1><h5>This section is relevant only if you have more than one DC</h5>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "How many Queries use Consistency level ONE\n\nThis is an issue when using multiple datacenters.\n\nUsing consistency level ONE in a query when there is more than one DC may hurt performance, queries may end in the non-local DC. Use LOCAL_ONE instead",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 0,
          "y": 92
        },
        "id": 61,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "floor(100 *sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", consistency_level=\"ONE\"}[$__rate_interval]))/sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "CQL ONE Queries",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "How many Queries use Consistency level ONE\n\nThis is an issue when using multiple datacenters.\n\nUsing consistency level ONE in a query when there is more than one DC may hurt performance, queries may end in the non-local DC. Use LOCAL_ONE instead",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 2,
          "y": 92
        },
        "id": 62,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\",  consistency_level=\"ONE\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "CQL ONE CL Queries",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "How many Queries use Consistency level QUORUM\n\nThis is an issue when using multiple datacenters.\n\nUsing consistency level QUORUM in a query when there is more than one DC may hurt performance, queries may end in the non-local DC. Use LOCAL_QUORUM instead",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 2,
          "x": 8,
          "y": 92
        },
        "id": 63,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "span": 1,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "floor(100 *sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\", consistency_level=\"QUORUM\"}[$__rate_interval]))/sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval]))) OR vector(0)",
            "format": "time_series",
            "hide": false,
            "instant": false,
            "interval": "",
            "intervalFactor": 1,
            "legendFormat": "",
            "refId": "A"
          }
        ],
        "title": "CQL QUORUM CL Queries",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "ops_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "How many Queries use Consistency level QUORUM\n\nThis is an issue when using multiple datacenters.\n\nUsing consistency level QUORUM in a query when there is more than one DC may hurt performance, queries may end in the non-local DC. Use LOCAL_QUORUM instead",
        "editable": true,
        "error": false,
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "palette-classic"
            },
            "custom": {
              "axisCenteredZero": false,
              "axisColorMode": "text",
              "axisLabel": "",
              "axisPlacement": "auto",
              "axisSoftMin": 0,
              "barAlignment": 0,
              "drawStyle": "line",
              "fillOpacity": 0,
              "gradientMode": "none",
              "hideFrom": {
                "legend": false,
                "tooltip": false,
                "viz": false
              },
              "insertNulls": false,
              "lineInterpolation": "linear",
              "lineWidth": 1,
              "pointSize": 5,
              "scaleDistribution": {
                "type": "linear"
              },
              "showPoints": "never",
              "spanNulls": false,
              "stacking": {
                "group": "A",
                "mode": "none"
              },
              "thresholdsStyle": {
                "mode": "off"
              }
            },
            "mappings": [],
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "green",
                  "value": null
                },
                {
                  "color": "red",
                  "value": 80
                }
              ]
            },
            "unit": "si:ops/s"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 6,
          "x": 10,
          "y": 92
        },
        "id": 64,
        "links": [],
        "options": {
          "legend": {
            "calcs": [],
            "displayMode": "list",
            "placement": "bottom",
            "showLegend": false
          },
          "tooltip": {
            "maxHeight": 600,
            "mode": "multi",
            "sort": "desc"
          }
        },
        "seriesOverrides": [
          {}
        ],
        "span": 3,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "sum(rate(scylla_query_processor_queries{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\",  consistency_level=\"QUORUM\"}[$__rate_interval])) by ([[by]])",
            "format": "time_series",
            "hide": false,
            "intervalFactor": 2,
            "refId": "A"
          }
        ],
        "title": "CQL QUORUM CL Queries",
        "type": "timeseries"
      },
      {
        "class": "gauge_errors_panel",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "description": "Cross DC traffic may cause additional latencies and network loads and in most cases, should be avoided.\n\nCross DC Read requests sources:\n- Consistency Level that is not LOCAL_XXX\n- Tables with read_repair_chance > 0\n\nNote:\n- If requests are supposed to be  DC local - verify client is using a DCAware policy and a LOCAL_XX consistency level",
        "fieldConfig": {
          "defaults": {
            "color": {
              "mode": "thresholds"
            },
            "mappings": [
              {
                "options": {
                  "match": "null",
                  "result": {
                    "text": "N/A"
                  }
                },
                "type": "special"
              }
            ],
            "max": 100,
            "min": 0,
            "thresholds": {
              "mode": "absolute",
              "steps": [
                {
                  "color": "#299c46",
                  "value": null
                },
                {
                  "color": "rgba(237, 129, 40, 0.89)",
                  "value": 4
                },
                {
                  "color": "#d44a3a",
                  "value": 10
                }
              ]
            },
            "unit": "percent"
          },
          "overrides": []
        },
        "gridPos": {
          "h": 6,
          "w": 24,
          "x": 0,
          "y": 98
        },
        "id": 65,
        "links": [],
        "options": {
          "orientation": "horizontal",
          "reduceOptions": {
            "calcs": [
              "lastNotNull"
            ],
            "fields": "",
            "values": false
          },
          "showThresholdLabels": false,
          "showThresholdMarkers": true
        },
        "pluginVersion": "10.1.1",
        "repeat": "dc",
        "span": 2,
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "expr": "100*(sum(rate(scylla_storage_proxy_coordinator_reads_remote_node{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) - sum(rate(scylla_storage_proxy_coordinator_reads_remote_node{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", datacenter=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])))/sum(rate(scylla_storage_proxy_coordinator_reads_remote_node{instance=~\"[[node]]\",cluster=\"$cluster\", dc=~\"$dc\", shard=~\"[[shard]]\"}[$__rate_interval])) OR vector(0)",
            "format": "time_series",
            "intervalFactor": 1,
            "refId": "A"
          }
        ],
        "title": "Cross DC read requests $dc",
        "transparent": true,
        "type": "gauge"
      },
      {
        "class": "plain_text",
        "datasource": {
          "type": "prometheus",
          "uid": "prometheus"
        },
        "editable": true,
        "error": false,
        "gridPos": {
          "h": 3,
          "w": 24,
          "x": 0,
          "y": 200
        },
        "id": 66,
        "links": [],
        "mode": "html",
        "options": {
          "code": {
            "language": "plaintext",
            "showLineNumbers": false,
            "showMiniMap": false
          },
          "content": "<div style=\"color:#5780C1; border-bottom: 0px solid #5780C1;\">Scylla Monitoring version - 4.9.4</div> <div style=\"\"><a href=\"https://github.com/scylladb/scylla-monitoring/issues/new?body=scylla-version%3D[[scylla_version]]%0Amonitoring-version%3D[[monitoring_version]]%0Adashboard%3D${__dashboard.uid}\" target=\"_blank\">\n<input title=\"Report an issue with Scylla Monitoring\" type=\"button\" style=\"background-color:#306EE6;color:white;border-radius: 15px;font-size:14px;line-height:22px;padding:2px\" value=\"&nbsp;Report an issue on this page&nbsp;\"></a>&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"/render/d/${__dashboard.uid}?orgId=1&from=${__from}&to=${__to}&width=1600&height=-1&kiosk\" target=\"_blank\" download=\"dashboard_${__dashboard.uid}-${__from:date:iso}.png\"><input title=\"Make a Screenshot\" type=\"button\" style=\"background-color:#306EE6;color:white;border-radius: 15px;font-size:14px;line-height:22px;padding:2px\" value=\"&nbsp;&nbsp;&nbsp;Screenshot&nbsp;&nbsp;&nbsp;\"></input></a></span></div>",
          "mode": "html"
        },
        "pluginVersion": "10.1.1",
        "span": 12,
        "style": {},
        "targets": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "refId": "A"
          }
        ],
        "transparent": true,
        "type": "text"
      }
    ],
    "refresh": "10s",
    "schemaVersion": 38,
    "style": "dark",
    "tags": [
      "6.2"
    ],
    "templating": {
      "list": [
        {
          "class": "by_template_var",
          "current": {
            "tags": [],
            "text": "Instance",
            "value": "instance"
          },
          "hide": 0,
          "includeAll": false,
          "label": "by",
          "multi": false,
          "name": "by",
          "options": [
            {
              "selected": false,
              "text": "Cluster",
              "value": "cluster"
            },
            {
              "selected": false,
              "text": "DC",
              "value": "dc"
            },
            {
              "selected": true,
              "text": "Instance",
              "value": "instance"
            },
            {
              "selected": false,
              "text": "Shard",
              "value": "instance,shard"
            }
          ],
          "query": "Cluster : cluster,DC : dc, Instance : instance, Shard : instance\\,shard",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "class": "template_variable_single",
          "current": {
            "selected": false,
            "text": "scylla",
            "value": "scylla"
          },
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "definition": "",
          "hide": 0,
          "includeAll": false,
          "label": "cluster",
          "multi": false,
          "name": "cluster",
          "options": [],
          "query": "label_values(scylla_reactor_utilization, cluster)",
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "tagValuesQuery": "",
          "tagsQuery": "",
          "type": "query",
          "useTags": false
        },
        {
          "allValue": ".*",
          "class": "template_variable_all",
          "current": {
            "selected": true,
            "text": [
              "All"
            ],
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "definition": "",
          "hide": 0,
          "includeAll": true,
          "label": "dc",
          "multi": true,
          "name": "dc",
          "options": [],
          "query": "label_values(scylla_reactor_utilization{cluster=~\"$cluster\"}, dc)",
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "tagValuesQuery": "",
          "tagsQuery": "",
          "type": "query",
          "useTags": false
        },
        {
          "class": "template_variable_single",
          "current": {
            "selected": true,
            "text": [
              "All"
            ],
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "definition": "",
          "hide": 0,
          "includeAll": true,
          "label": "node",
          "multi": true,
          "name": "node",
          "options": [],
          "query": "label_values(scylla_reactor_utilization{cluster=\"$cluster\", dc=~\"$dc\"}, instance)",
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 1,
          "tagValuesQuery": "",
          "tagsQuery": "",
          "type": "query",
          "useTags": false
        },
        {
          "allValue": ".*",
          "class": "template_variable_all",
          "current": {
            "selected": true,
            "text": [
              "All"
            ],
            "value": [
              "$__all"
            ]
          },
          "datasource": {
            "type": "prometheus",
            "uid": "prometheus"
          },
          "definition": "",
          "hide": 0,
          "includeAll": true,
          "label": "shard",
          "multi": true,
          "name": "shard",
          "options": [],
          "query": "label_values(scylla_reactor_utilization,shard)",
          "refresh": 2,
          "regex": "",
          "skipUrlSync": false,
          "sort": 3,
          "tagValuesQuery": "",
          "tagsQuery": "",
          "type": "query",
          "useTags": false
        },
        {
          "class": "topk_limit",
          "current": {
            "tags": [],
            "text": "256",
            "value": "256"
          },
          "hide": 0,
          "includeAll": false,
          "label": "Filter Highest",
          "multi": false,
          "name": "topk",
          "options": [
            {
              "selected": false,
              "text": "0",
              "value": "0"
            },
            {
              "selected": false,
              "text": "5",
              "value": "5"
            },
            {
              "selected": false,
              "text": "10",
              "value": "10"
            },
            {
              "selected": false,
              "text": "20",
              "value": "20"
            },
            {
              "selected": false,
              "text": "50",
              "value": "50"
            },
            {
              "selected": false,
              "text": "100",
              "value": "100"
            },
            {
              "selected": true,
              "text": "256",
              "value": "256"
            },
            {
              "selected": false,
              "text": "512",
              "value": "512"
            },
            {
              "selected": false,
              "text": "1000",
              "value": "1000"
            },
            {
              "selected": false,
              "text": "10000",
              "value": "10000"
            }
          ],
          "query": "0, 5, 10, 20, 50, 100, 256, 500, 1000, 10000",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "class": "botomk_limit",
          "current": {
            "tags": [],
            "text": "0",
            "value": "0"
          },
          "hide": 0,
          "includeAll": false,
          "label": "Filter Lowest",
          "multi": false,
          "name": "bottomk",
          "options": [
            {
              "selected": true,
              "text": "0",
              "value": "0"
            },
            {
              "selected": false,
              "text": "5",
              "value": "5"
            },
            {
              "selected": false,
              "text": "10",
              "value": "10"
            },
            {
              "selected": false,
              "text": "20",
              "value": "20"
            },
            {
              "selected": false,
              "text": "50",
              "value": "50"
            },
            {
              "selected": false,
              "text": "100",
              "value": "100"
            },
            {
              "selected": false,
              "text": "256",
              "value": "256"
            },
            {
              "selected": false,
              "text": "512",
              "value": "512"
            },
            {
              "selected": false,
              "text": "1000",
              "value": "1000"
            },
            {
              "selected": false,
              "text": "10000",
              "value": "10000"
            }
          ],
          "query": "0, 5, 10, 20, 50, 100, 256, 500, 1000, 10000",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "class": "template_variable_custom",
          "current": {
            "text": "6-2",
            "value": "6-2"
          },
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "dash_version",
          "options": [
            {
              "selected": true,
              "text": "6-2",
              "value": "6-2"
            }
          ],
          "query": "6-2",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "class": "template_variable_custom",
          "current": {
            "text": "6.2",
            "value": "6.2"
          },
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "scylla_version",
          "options": [
            {
              "selected": true,
              "text": "6.2",
              "value": "6.2"
            }
          ],
          "query": "6.2",
          "skipUrlSync": false,
          "type": "custom"
        },
        {
          "class": "monitor_version_var",
          "current": {
            "text": "4.9.4",
            "value": "4.9.4"
          },
          "hide": 2,
          "includeAll": false,
          "multi": false,
          "name": "monitoring_version",
          "options": [
            {
              "selected": true,
              "text": "4.9.4",
              "value": "4.9.4"
            }
          ],
          "query": "4.9.4",
          "skipUrlSync": false,
          "type": "custom"
        }
      ]
    },
    "time": {
      "from": "now-1h",
      "to": "now"
    },
    "timepicker": {
      "now": true,
      "refresh_intervals": [
        "5s",
        "10s",
        "30s",
        "1m",
        "5m",
        "15m",
        "30m",
        "1h",
        "2h",
        "1d"
      ],
      "time_options": [
        "5m",
        "15m",
        "1h",
        "6h",
        "12h",
        "24h",
        "2d",
        "7d",
        "30d"
      ]
    },
    "timezone": "browser",
    "title": "Scylla CQL",
    "uid": "cql-6-2",
    "version": 1,
    "weekStart": ""
  }