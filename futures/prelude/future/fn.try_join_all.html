<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Creates a future which represents either a collection of the results of the futures given or an error."><title>try_join_all in futures::prelude::future - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="futures" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../futures/index.html">futures</a><span class="version">0.3.31</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">try_<wbr>join_<wbr>all</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#see-also" title="See Also">See Also</a></li><li><a href="#examples" title="Examples">Examples</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="index.html">In futures::<wbr>prelude::<wbr>future</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">futures</a>::<wbr><a href="../index.html">prelude</a>::<wbr><a href="index.html">future</a></div><h1>Function <span class="fn">try_join_all</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/futures_util/future/try_join_all.rs.html#117-120">Source</a> </span></div><pre class="rust item-decl"><code>pub fn try_join_all&lt;I&gt;(iter: I) -&gt; <a class="struct" href="../../future/struct.TryJoinAll.html" title="struct futures::future::TryJoinAll">TryJoinAll</a>&lt;&lt;I as <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.Item" title="type core::iter::traits::collect::IntoIterator::Item">Item</a>&gt; <a href="#" class="tooltip" data-notable-ty="TryJoinAll&lt;&lt;I as IntoIterator&gt;::Item&gt;">ⓘ</a><div class="where">where
    I: <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>,
    &lt;I as <a class="trait" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.86.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.Item" title="type core::iter::traits::collect::IntoIterator::Item">Item</a>: <a class="trait" href="../trait.TryFuture.html" title="trait futures::prelude::TryFuture">TryFuture</a>,</div></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Creates a future which represents either a collection of the results of the
futures given or an error.</p>
<p>The returned future will drive execution for all of its underlying futures,
collecting the results into a destination <code>Vec&lt;T&gt;</code> in the same order as they
were provided.</p>
<p>If any future returns an error then all other futures will be canceled and
an error will be returned immediately. If all futures complete successfully,
however, then the returned future will succeed with a <code>Vec</code> of all the
successful results.</p>
<p>This function is only available when the <code>std</code> or <code>alloc</code> feature of this
library is activated, and it is activated by default.</p>
<h2 id="see-also"><a class="doc-anchor" href="#see-also">§</a>See Also</h2>
<p><code>try_join_all</code> will switch to the more powerful <a href="../../stream/struct.FuturesOrdered.html" title="struct futures::stream::FuturesOrdered"><code>FuturesOrdered</code></a> for performance
reasons if the number of futures is large. You may want to look into using it or
it’s counterpart <a href="../../stream/struct.FuturesUnordered.html" title="struct futures::stream::FuturesUnordered"><code>FuturesUnordered</code></a> directly.</p>
<p>Some examples for additional functionality provided by these are:</p>
<ul>
<li>
<p>Adding new futures to the set even after it has been started.</p>
</li>
<li>
<p>Only polling the specific futures that have been woken. In cases where
you have a lot of futures this will result in much more efficient polling.</p>
</li>
</ul>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>futures::future::{<span class="self">self</span>, try_join_all};

<span class="kw">let </span>futures = <span class="macro">vec!</span>[
    future::ok::&lt;u32, u32&gt;(<span class="number">1</span>),
    future::ok::&lt;u32, u32&gt;(<span class="number">2</span>),
    future::ok::&lt;u32, u32&gt;(<span class="number">3</span>),
];

<span class="macro">assert_eq!</span>(try_join_all(futures).<span class="kw">await</span>, <span class="prelude-val">Ok</span>(<span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]));

<span class="kw">let </span>futures = <span class="macro">vec!</span>[
    future::ok::&lt;u32, u32&gt;(<span class="number">1</span>),
    future::err::&lt;u32, u32&gt;(<span class="number">2</span>),
    future::ok::&lt;u32, u32&gt;(<span class="number">3</span>),
];

<span class="macro">assert_eq!</span>(try_join_all(futures).<span class="kw">await</span>, <span class="prelude-val">Err</span>(<span class="number">2</span>));</code></pre></div>
</div></details><script type="text/json" id="notable-traits-data">{"TryJoinAll<<I as IntoIterator>::Item>":"<h3>Notable traits for <code><a class=\"struct\" href=\"../../future/struct.TryJoinAll.html\" title=\"struct futures::future::TryJoinAll\">TryJoinAll</a>&lt;F&gt;</code></h3><pre><code><div class=\"where\">impl&lt;F&gt; <a class=\"trait\" href=\"../trait.Future.html\" title=\"trait futures::prelude::Future\">Future</a> for <a class=\"struct\" href=\"../../future/struct.TryJoinAll.html\" title=\"struct futures::future::TryJoinAll\">TryJoinAll</a>&lt;F&gt;<div class=\"where\">where\n    F: <a class=\"trait\" href=\"../trait.TryFuture.html\" title=\"trait futures::prelude::TryFuture\">TryFuture</a>,</div></div><div class=\"where\">    type <a href=\"../trait.Future.html#associatedtype.Output\" class=\"associatedtype\">Output</a> = <a class=\"enum\" href=\"https://doc.rust-lang.org/1.86.0/core/result/enum.Result.html\" title=\"enum core::result::Result\">Result</a>&lt;<a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;&lt;F as <a class=\"trait\" href=\"../trait.TryFuture.html\" title=\"trait futures::prelude::TryFuture\">TryFuture</a>&gt;::<a class=\"associatedtype\" href=\"../trait.TryFuture.html#associatedtype.Ok\" title=\"type futures::prelude::TryFuture::Ok\">Ok</a>&gt;, &lt;F as <a class=\"trait\" href=\"../trait.TryFuture.html\" title=\"trait futures::prelude::TryFuture\">TryFuture</a>&gt;::<a class=\"associatedtype\" href=\"../trait.TryFuture.html#associatedtype.Error\" title=\"type futures::prelude::TryFuture::Error\">Error</a>&gt;;</div>"}</script></section></div></main></body></html>