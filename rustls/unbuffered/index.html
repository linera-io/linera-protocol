<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Unbuffered connection API"><title>rustls::unbuffered - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustls" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../static.files/storage-3a5871a4.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../rustls/index.html">rustls</a><span class="version">0.23.31</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module unbuffered</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate rustls</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">rustls</a></div><h1>Module <span>unbuffered</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/rustls/lib.rs.html#534">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Unbuffered connection API</p>
<p>This is an alternative to the <a href="../struct.ConnectionCommon.html" title="struct rustls::ConnectionCommon"><code>crate::ConnectionCommon</code></a> API that does not internally buffer
TLS nor plaintext data. Instead those buffers are managed by the API user so they have
control over when and how to allocate, resize and dispose of them.</p>
<p>This API is lower level than the <code>ConnectionCommon</code> API and is built around a state machine
interface where the API user must handle each state to advance and complete the
handshake process.</p>
<p>Like the <code>ConnectionCommon</code> API, no IO happens internally so all IO must be handled by the API
user. Unlike the <code>ConnectionCommon</code> API, this API does not make use of the <a href="https://doc.rust-lang.org/1.86.0/std/io/trait.Read.html" title="trait std::io::Read"><code>std::io::Read</code></a> and
<a href="https://doc.rust-lang.org/1.86.0/std/io/trait.Write.html" title="trait std::io::Write"><code>std::io::Write</code></a> traits so it’s usable in no-std context.</p>
<p>The entry points into this API are <a href="../client/struct.UnbufferedClientConnection.html#method.new" title="associated function rustls::client::UnbufferedClientConnection::new"><code>crate::client::UnbufferedClientConnection::new</code></a>,
<a href="../server/struct.UnbufferedServerConnection.html#method.new" title="associated function rustls::server::UnbufferedServerConnection::new"><code>crate::server::UnbufferedServerConnection::new</code></a> and
<a href="struct.UnbufferedConnectionCommon.html#method.process_tls_records" title="method rustls::unbuffered::UnbufferedConnectionCommon::process_tls_records"><code>unbuffered::UnbufferedConnectionCommon::process_tls_records</code></a>. The state machine API is
documented in <a href="enum.ConnectionState.html" title="enum rustls::unbuffered::ConnectionState"><code>unbuffered::ConnectionState</code></a>.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h2>
<p><a href="https://github.com/rustls/rustls/blob/main/examples/src/bin/unbuffered-client.rs"><code>unbuffered-client</code></a> and <a href="https://github.com/rustls/rustls/blob/main/examples/src/bin/unbuffered-server.rs"><code>unbuffered-server</code></a> are examples that fully exercise the API in
std, non-async context.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.AppDataRecord.html" title="struct rustls::unbuffered::AppDataRecord">AppData<wbr>Record</a></dt><dd>A decrypted application-data record</dd><dt><a class="struct" href="struct.EncodeTlsData.html" title="struct rustls::unbuffered::EncodeTlsData">Encode<wbr>TlsData</a></dt><dd>A handshake record must be encoded</dd><dt><a class="struct" href="struct.InsufficientSizeError.html" title="struct rustls::unbuffered::InsufficientSizeError">Insufficient<wbr>Size<wbr>Error</a></dt><dd>Provided buffer was too small</dd><dt><a class="struct" href="struct.ReadEarlyData.html" title="struct rustls::unbuffered::ReadEarlyData">Read<wbr>Early<wbr>Data</a></dt><dd>Early application-data is available.</dd><dt><a class="struct" href="struct.ReadTraffic.html" title="struct rustls::unbuffered::ReadTraffic">Read<wbr>Traffic</a></dt><dd>Application data is available</dd><dt><a class="struct" href="struct.TransmitTlsData.html" title="struct rustls::unbuffered::TransmitTlsData">Transmit<wbr>TlsData</a></dt><dd>Previously encoded TLS data must be transmitted</dd><dt><a class="struct" href="struct.UnbufferedConnectionCommon.html" title="struct rustls::unbuffered::UnbufferedConnectionCommon">Unbuffered<wbr>Connection<wbr>Common</a></dt><dd>Interface shared by unbuffered client and server connections.</dd><dt><a class="struct" href="struct.UnbufferedStatus.html" title="struct rustls::unbuffered::UnbufferedStatus">Unbuffered<wbr>Status</a></dt><dd>The current status of the <code>UnbufferedConnection*</code></dd><dt><a class="struct" href="struct.WriteTraffic.html" title="struct rustls::unbuffered::WriteTraffic">Write<wbr>Traffic</a></dt><dd>Allows encrypting app-data</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><dl class="item-table"><dt><a class="enum" href="enum.ConnectionState.html" title="enum rustls::unbuffered::ConnectionState">Connection<wbr>State</a></dt><dd>The state of the <a href="struct.UnbufferedConnectionCommon.html" title="struct rustls::unbuffered::UnbufferedConnectionCommon"><code>UnbufferedConnectionCommon</code></a> object</dd><dt><a class="enum" href="enum.EncodeError.html" title="enum rustls::unbuffered::EncodeError">Encode<wbr>Error</a></dt><dd>Errors that may arise when encoding a handshake record</dd><dt><a class="enum" href="enum.EncryptError.html" title="enum rustls::unbuffered::EncryptError">Encrypt<wbr>Error</a></dt><dd>Errors that may arise when encrypting application data</dd></dl></section></div></main></body></html>