<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Calculate the base fee for the next block based on the EIP-1559 specification."><title>calc_next_block_base_fee in alloy::eips::eip1559 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="alloy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../../../static.files/storage-3a5871a4.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/alloy-rs/core/main/assets/favicon.ico"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../alloy/index.html"><img src="https://raw.githubusercontent.com/alloy-rs/core/main/assets/alloy.jpg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../alloy/index.html"><img src="https://raw.githubusercontent.com/alloy-rs/core/main/assets/alloy.jpg" alt="logo"></a><h2><a href="../../../alloy/index.html">alloy</a><span class="version">1.0.24</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In alloy::<wbr>eips::<wbr>eip1559</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">alloy</a>::<wbr><a href="../index.html">eips</a>::<wbr><a href="index.html">eip1559</a></div><h1>Function <span class="fn">calc_next_block_base_fee</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/alloy_eips/eip1559/helpers.rs.html#41-46">Source</a> </span></div><pre class="rust item-decl"><code>pub fn calc_next_block_base_fee(
    gas_used: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u64.html">u64</a>,
    gas_limit: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u64.html">u64</a>,
    base_fee: <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u64.html">u64</a>,
    base_fee_params: <a class="struct" href="struct.BaseFeeParams.html" title="struct alloy::eips::eip1559::BaseFeeParams">BaseFeeParams</a>,
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.86.0/std/primitive.u64.html">u64</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Calculate the base fee for the next block based on the EIP-1559 specification.</p>
<p>This function calculates the base fee for the next block according to the rules defined in the
EIP-1559. EIP-1559 introduces a new transaction pricing mechanism that includes a
fixed-per-block network fee that is burned and dynamically adjusts block sizes to handles
transient congestion.</p>
<p>For each block, the base fee per gas is determined by the gas used in the parent block and the
target gas (the block gas limit divided by the elasticity multiplier). The algorithm increases
the base fee when blocks are congested and decreases it when they are under the target gas
usage. The base fee per gas is always burned.</p>
<p>Parameters:</p>
<ul>
<li><code>gas_used</code>: The gas used in the current block.</li>
<li><code>gas_limit</code>: The gas limit of the current block.</li>
<li><code>base_fee</code>: The current base fee per gas.</li>
<li><code>base_fee_params</code>: Base fee parameters such as elasticity multiplier and max change
denominator.</li>
</ul>
<p>Returns:
The calculated base fee for the next block as a <code>u64</code>.</p>
<p>For more information, refer to the <a href="https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1559.md">EIP-1559 spec</a>.</p>
</div></details></section></div></main></body></html>